sudo: true
matrix:
  include:
  - os: linux
    language: python
    python: '3.6'
  - os: osx
    language: generic
    before_install:
    - python --version
    - brew upgrade python
install:
  - make install
script:
  - echo "@TODO - Running tests..."
  - pyinstaller --distpath dist/$TRAVIS_OS_NAME app.spec
  - pyinstaller --distpath dist/$TRAVIS_OS_NAME cli.spec
before_deploy:
  - git config --local user.name "Travis"
  - git config --local user.email "travis@travis-ci.org"
  - git tag "$(date +'%Y%m%d%H%M%S')-$(git log --format=%h -1)"
  - tar -czvf dist/DEXBot-$TRAVIS_OS_NAME.tar.gz dist/$TRAVIS_OS_NAME
deploy:
  provider: releases
  skip_cleanup: true
  api_key:
    secure: YHAPA2G3qu7at2hMu4AplXH/niI1ChlgldJVetaKO92iDQiyOk5VqFfhV1ec+nYdX8rtniwfD7YJr2nG2x1ATwKw4MyFcJEXqaOUmKWTeZ/Q3PnQQsa+2BnN4Rfz1aynpsKHDYS9gCU/YTqymujE8bdlxW1WtpYOqOSDkspGxZGZTiUKQ7/qhrjB3Dywm/KF9WEoba/X7tbhmSuU8sL45gBGY008TXZRWqAPM42qa/aBIrG/cIA865VlCUltPC6vzskcWI5q1UtYh6g2CiXJghcpFEO2rWWXmS1A+5nQp6ptJigjRgnhyFHmHb27lRM8aRGRDTeyJvlNuoyIvNj/FxhLXZvomgTyGyzTIl67WIXcxWMKx6KqqrqGyiooRMeFpDEYobZL/FY9whi3M+gUwsofAVQ6oL4a1L185egaXlMKGbM5GYB4OxVLsVtL2c0pJjvNIkCGGDzaqNpdo+vZflB4iCwvw548rWJsqsHnP1XMo28ZU86hibD7V0x+JW2BJEI0lMvOkRBslOhYBafIsbZakO4Zf4d+5b2dd8/xY/wTbuxwgDuBOmpqoByVYeCBah4bbnb8JS6eze+vUyxaI1XLAdQXbLQ788Agr2jdHGuy1wI8io9g5vtzS5oOyq8YFBM1tVKM2Mtw5nkSsTbPJsZg8m/kkre6qiXJl2gPQTE=
  file: dist/*.tar.gz
  file_glob: true
  on:
    tags: true
notifications:
  slack:
    secure: E8FenKw66AwWBvMZawROqlYaLa7L+wHy2SflZK1EKzmFEH8ocD9DbIaVKPoLaHV/rXVMth+1TGqKS0qgRS6ra2Yqx6zCXgcpIy007QTuneyUeggYlH2jfDo4sm4LrgF+1AwK0O63vZIuz8R/BQi/MkwbQYzXjzFedcW9VzAMiNHGgBhjgRng7ND11D1zkCi3vJIpLQcC2rQmZrkoTyrgL+Pcw6PzeaVaohhKIWomKjx72ILmJlw2IDIzFjOhXADcADHKP3NPPqDKvuancoiCU1d3maEzQLIrAqEPm7XQCC+iPi6rAWdsbJuYzElOXR1KRcj/YCpWG7jVQ403qmRIi9bNbEZVd4Whl5YhYNJgzQK9eC5Fg0s14H4fiOJnJPZJYxc0rmc0uPN8mnvksGorowa5vAAaFmp6KN6ZCoQAela/oj0Ro5a44y0rBkY6xoKtTurHEcntFGpENQl8ggNrZM3rJNRykrOhQgZJUrOh2JQCBbd8OT5PMGE7lSn/GcvKzQkeuaKdPKDcTesMLXKIoEXmbj/Pf1RTV6JujW8bmNNoa1Ayf6bhXnaDqrbIweW6AEjzfEMx5oVcf9poXdLxzZl9lnyufvYacXwlz37Ti5E4IBnMs1s3GF7Luo/SziLXYpTpSYeqhiEQiDmPTeQaaj/J+QwQ6deSvyz+njGtFjg=
